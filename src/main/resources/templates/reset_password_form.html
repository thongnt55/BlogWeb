<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="/fragments/header :: header-css"/>
</head>
<body>

<div th:replace="/fragments/header :: header"/>
<style>
    #b{
        background: url("../static/img/blog.png");
        min-height: 150px;
        width: 100%;
    }
</style>
<div id="b"></div>

<div>
    <div class="row" style="margin-top:20px">
        <div class="col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">

            <form th:action="@{/reset_password}" method="post">
                <fieldset>
                    <input type="hidden" name="token" th:value="${token}"/>
                    <div class="form-group">
                        <input type="password" name="password" onChange="onChange()" class="form-control input-lg"
                               placeholder="New password" required="true"/>
                    </div>
                    <div class="form-group">
                        <input type="password" name="confirm" onChange="onChange()" class="form-control input-lg"
                               placeholder="Confirm your password" required="true"/>
                    </div>
                    <div class="row">
                        <div class="col-sm-3" style="float: none; margin: 0 auto;">
                            <input type="submit" class="btn btn-primary btn-block" value="Change new password"/>
                        </div>
                    </div>
                </fieldset>
            </form>


<!--            <form th:action="@{/reset_password}" method="post">-->
<!--                <input type="hidden" name="token" th:value="${token}"/>-->

<!--                <div class="form-group">-->
<!--                    <label>Password: <input name="password" type="password" onChange="onChange()" class="form-control input-lg"/> </label><br />-->
<!--                </div>-->
<!--                <div class="form-group">-->
<!--                    <label>Confirm password : <input name="confirm"  type="password" onChange="onChange()" class="form-control input-lg"/> </label><br />-->
<!--                </div>-->
<!--                <input type="submit" class="btn btn-primary btn-block" value="Change new password"/>-->
<!--            </form>-->
        </div>
    </div>
</div>

<div th:replace="/fragments/footer :: footer"/>

<script type="text/javascript">
    // function checkPasswordMatch(fieldConfirmPassword){
    //     if(fieldConfirmPassword.value()!= $("#password").val()){
    //         fieldConfirmPassword.setCustomValidity("Password do not match!")
    //     }else fieldConfirmPassword.setCustomValidity("");
    // }

    function onChange() {
        const password = document.querySelector('input[name=password]');
        const confirm = document.querySelector('input[name=confirm]');
        if (confirm.value === password.value) {
            confirm.setCustomValidity('');
        } else {
            confirm.setCustomValidity('Passwords do not match');
        }
    }
</script>
</body>
</html>